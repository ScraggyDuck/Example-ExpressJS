extends ../layouts/common
block contain
    span.h1 Products
    .row.mt-3
        each product in products
            col-sm-6.col-md-4.col-lg-3
                        .card.mb-3.w-200
                            img.card-img-top(src= product.image)
                            .card-body
                                h5.card-title= product.name
                                p.card-text= product.description
                                a.btn.btn-primary(href='#') Add to card
    - var i = current > 3 ? current - 2 : 1
    - var prev = current - 1
    - var next = current + 1
    nav.mt-3(aria-label='Page navigation example')
        ul.pagination.justify-content-end
            if i !== 1
                li.page-item
                    a.page-link(href= ("/products?page=" + prev)) Previous
            else
                li.page-item.disabled
                    a.page-link(href='#') Previous
            each index in [0, 1, 2]
                if i === current
                    li.page-item.active
                        a.page-link= i++
                else
                    li.page-item
                        a.page-link(href= ("/products?page=" + i))= i++
            if i < pages - 2
                li.page-item
                    a.page-link(href= ("/products?page=" + next)) Next
            else
                li.page-item.disabled
                    a.page-link(href='#') Next



